"use strict";(self.webpackChunkfe_interview=self.webpackChunkfe_interview||[]).push([[5273],{4059:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>f,frontMatter:()=>c,metadata:()=>a,toc:()=>u});var r=t(3274),s=t(2023);const c={},o="React\u6280\u5de7",a={id:"frame/react/11",title:"React\u6280\u5de7",description:"useState\u3001useRef\u907f\u514d\u91cd\u590d\u521b\u5efa\u521d\u59cb\u503c",source:"@site/docs/frame/react/11.md",sourceDirName:"frame/react",slug:"/frame/react/11",permalink:"/FE-interview/docs/frame/react/11",draft:!1,unlisted:!1,editUrl:"https://github.com/GavinBirkhoff/FE-interview/tree/main/docs/frame/react/11.md",tags:[],version:"current",frontMatter:{},sidebar:"frame",previous:{title:"React\u5386\u53f2\u7248\u672c",permalink:"/FE-interview/docs/frame/react/10"},next:{title:"ErrorBoundary",permalink:"/FE-interview/docs/frame/react/12"}},i={},u=[{value:"useState\u3001useRef\u907f\u514d\u91cd\u590d\u521b\u5efa\u521d\u59cb\u503c",id:"usestateuseref\u907f\u514d\u91cd\u590d\u521b\u5efa\u521d\u59cb\u503c",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"react\u6280\u5de7",children:"React\u6280\u5de7"}),"\n",(0,r.jsx)(n.h2,{id:"usestateuseref\u907f\u514d\u91cd\u590d\u521b\u5efa\u521d\u59cb\u503c",children:"useState\u3001useRef\u907f\u514d\u91cd\u590d\u521b\u5efa\u521d\u59cb\u503c"}),"\n",(0,r.jsx)(n.p,{children:"\u6709\u65f6\u5019\u9700\u8981\u786e\u4fdd\u4e00\u4e2a\u5bf9\u8c61\u4ec5\u88ab\u521b\u5efa\u4e00\u6b21\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u573a\u666f\u4e00\uff1a\u5f53\u521b\u5efa\u521d\u59cb state \u9700\u8981\u901a\u8fc7\u4e00\u7cfb\u5217\u64cd\u4f5c\u751f\u6210\u65f6\uff08\u4f8b\u5982\u901a\u8fc7\u4e00\u4e2a\u51fd\u6570\u8ba1\u7b97\u5f97\u5230\u521d\u59cb\u503c\uff09\uff0c\u907f\u514d\u91cd\u65b0\u521b\u5efa useState()\u4e2d \u7684\u521d\u59cb\u503c\u3002"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"function CreateTable(props) {\n    // createRows()\u65b9\u6cd5\u751f\u6210rows\u7684\u521d\u59cb\u503c\uff0c\u8fd9\u6837\u5199\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u8c03\u7528createRows()\u65b9\u6cd5\uff0c\u6027\u80fd\u5f00\u9500\u8f83\u5927\n    const [rows, setRows] = useState(createRows(props.count));\n    // ......\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4e3a\u907f\u514d\u6bcf\u6b21\u90fd\u91cd\u65b0\u521b\u5efarows\u7684\u521d\u59cb\u503c\uff0c\u53ef\u4ee5\u4f20\u4e00\u4e2a\u51fd\u6570\u7ed9useState:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"function CreateTable(props) {\n    // \u2705 createRows()\u65b9\u6cd5\u751f\u6210rows\u7684\u521d\u59cb\u503c\uff0c\u8fd9\u6837\u5199 createRows() \u53ea\u4f1a\u88ab\u8c03\u7528\u4e00\u6b21\n    const [rows, setRows] = useState(() => createRows(props.count));\n    // ......\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5199\u6cd5\u4e8c\uff0cReact \u53ea\u4f1a\u5728\u9996\u6b21\u6e32\u67d3\u65f6\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\uff0c\u51cf\u5c11\u4e86\u4e0d\u5fc5\u8981\u7684\u6027\u80fd\u5f00\u9500\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u573a\u666f\u4e8c\uff1a\u60f3\u8981\u907f\u514d\u91cd\u65b0\u521b\u5efa useRef() \u7684\u521d\u59cb\u503c\u3002"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"function CreateImage(props) {\n  // \u26a0\ufe0f IntersectionObserver \u5728\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u88ab\u521b\u5efa\n  const ref = useRef(new IntersectionObserver(onIntersect));\n  // ...\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"useRef\u4e0d\u4f1a\u50cf useState \u90a3\u6837\u63a5\u53d7\u4e00\u4e2a\u7279\u6b8a\u7684\u51fd\u6570\u91cd\u8f7d\u3002\u53ef\u4ee5\u7f16\u5199\u81ea\u5df1\u7684\u51fd\u6570\u6765\u521b\u5efa\u5e76\u5c06\u5176\u8bbe\u4e3a\u60f0\u6027\u7684\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"function CreateImage(props) {\n    const ref = useRef(null);\n    // \u2705 IntersectionObserver \u53ea\u4f1a\u88ab\u60f0\u6027\u521b\u5efa\u4e00\u6b21\n    function getObserver() {\n        if(ref.current === null) {\n            ref.current = new IntersectionObserver(onIntersect);\n        }\n        return ref.current;\n    }\n    // \u5f53\u9700\u8981\u7684\u65f6\u5019\u8c03\u7528getObserver()\u65b9\u6cd5\n    // ......\n"})})]})}function f(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},2023:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var r=t(9474);const s={},c=r.createContext(s);function o(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);