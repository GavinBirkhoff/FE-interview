# React合成事件机制

React 中的合成事件机制是一种用于处理浏览器事件的封装机制。React 合成事件系统的设计目的是为了解决跨浏览器兼容性问题，提供一致的事件接口，并且优化事件处理的性能。以下是关于React合成事件机制的一些关键点：

1. **事件委托（Event Delegation）：** React 使用事件委托的方式处理事件。它将事件监听器绑定在 document 上,react18是挂载在root上，通过事件冒泡的机制，在合适的时候触发组件内的事件处理函数。这样可以减少事件处理器的数量，提高性能。

2. **合成事件对象：** React 提供了一种合成事件对象，该对象封装了底层浏览器的原生事件对象，使开发者能够跨浏览器使用一致的事件接口。合成事件对象包含了常见的事件属性（如 `event.type`、`event.target`）以及一些React特有的属性。

3. **事件池（Event Pooling）：** 为了提高性能，React 使用了事件池来重用合成事件对象。合成事件对象在事件处理完成后会被重置，然后可以被再次使用。这样可以减少垃圾回收的开销，提高性能。

4. **异步处理：** React 的事件处理是异步的。当组件中的事件处理函数被调用时，它实际上是将事件加入到一个事件队列中，稍后才会被执行。这样可以在一定程度上提高性能，因为多个事件处理函数可能会被批量处理。

5. **事件代理（Event Delegation）：** React 将事件委托到最外层的容器，然后根据事件冒泡的原理，逐级向下触发相应的事件处理函数。这样可以减少事件监听器的数量，提高效率。

6. **支持不同类型的事件：** React 支持常见的原生事件，如点击、键盘输入、鼠标移动等，同时还支持一些移动端的手势事件。

## setState和batchUpdate机制

## 受控组件和非受控组件

## Diff算法以及key的作用

## 组件渲染和更新过程
