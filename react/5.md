# React性能优化



1. 使用shouldComponentUpdate - 当props或state改变时，React将会重新渲染组件。但是，有时候组件可能会进行不必要的渲染，即在前后props和state没有发生变化的情况下进行渲染。使用shouldComponentUpdate方法可以在组件重新渲染之前检查任何更改，并决定是否应该重新渲染组件。
2. 使用生命周期方法 - React是基于生命周期方法的，这意味着可以使用代表组件不同阶段的生命周期方法来执行一些必要的操作并避免额外的渲染开销。例如，可以使用componentDidMount方法进行AJAX请求或componentWillUnmount方法进行清理操作。
3. 使用Keys - 在渲染对象列表时，为列表的每个对象分配一个唯一的key属性。这样可以让React能够更快地识别需要删除、插入或移动的对象。
4. 使用PureComponent - PureComponent是React内置的一个组件，它自动实现shouldComponentUpdate方法并在组件props或state发生更改时执行浅比较，从而避免进行不必要的渲染。
5. 代码拆分和异步加载 - 使用代码拆分和异步加载可以减少应用程序的初始加载时间，从而提高性能。
6. 虚拟化 - 当涉及到大量数据时，可以使用虚拟化技术，例如react-virtualized，以缓存和动态渲染数据，从而提高性能。
7. 使用Memo or useCallBack hooks - React.memo()和useCallBack() hooks可以优化具有大量props或state的组件,防止未修改值的重复渲染。
8. 避免使用内联样式 - 在组件中直接使用样式会导致在每次渲染时重新计算样式。优化方案可以在外部定义样式并将其导入组件中。
9. 不要在render函数中定义函数 - 每次渲染时，组件渲染时都会创建一个新的函数。这些额外的函数增加了内存和CPU的开销。解决方案是将这些函数移到组件类的外部定义。
10. 使用React.Fragment - React.Fragment会让React更高效地渲染组件，因为它可以减少生成多个不必要的标签的开销。
11. 避免深层嵌套组件 - 在嵌套过多的组件层次结构中，渲染和更新的速度会变慢。解决方案是将深嵌套的组件进行拆分或者使用近似组件的实现方式。
12. 避免不必要的重新渲染 - 例如使用React.memo, useMemo, useCallBack hooks.
13. 使用Web Workers - Web Workers是运行在后台线程中的脚本，它们不会阻塞应用程序的渲染和响应速度。Web Workers可以让你在另一个线程中处理耗时的任务，并在任务完成后通过消息传递机制通知应用程序。
14. 使用短路逻辑替代条件渲染 - 在React组件中，可以使用短路逻辑(而不是条件渲染)来渲染一些功能。如果条件不满足，则不会出现任何内容，从而避免了额外的渲染成本。
15. 使用Immutable数据 - Immutable数据不会直接更改，而是返回一个更新后的新数据。使用Immutable数据可以减少组件状态的更改，从而提高性能。
16. 提取共享组件逻辑 - 将多个组件之间的共享逻辑移到单独的组件中，可以减少重复的代码并提高性能。
17. 使用轻量级的库和框架 - 在React的生态系统中，有很多轻量级的库和框架可以替代一些更耗费性能的选择。例如，使用Preact可以提高React应用程序的性能，而使用React-styleguidist可以提高开发效率。
18. 对列表进行键的优化 - 在渲染列表时，为每个列表项指定一个唯一的键可以帮助React识别哪些列表项已更改。为列表中的key属性指定一个恰当的值可以提高React的性能。
19. 使用shouldComponentUpdate或纯组件 - 如果组件的props或状态没有更改，则不必重新渲染该组件。通过使用shouldComponentUpdate或纯组件，React会根据props和状态的更改来决定是否必须重新渲染组件。
20. SSR (服务端渲染) - SSR是一种通过在服务器上进行初始渲染，使应用程序直接返回HTML代码的技术。使用SSR可以提高React应用程序的性能和搜索引擎的优化效果。
21. 代码拆分 - 通过将应用程序的代码拆分成小块，使应用程序可以更快地加载，并且React只会渲染当前所需的内容。
22. 使用Profiler - 使用React Profiler工具可以识别React组件中可视化的性能瓶颈并进行性能调整。
23. 使用React.lazy和React.Suspense - React.lazy和React.Suspense是React 16.6中引入的新功能，用于延迟组件的加载，从而提高应用程序的性能和效率。
24. 使用Profiler API - React有一个内置的Profiler API，可以用于测量渲染时每个组件的性能。这也可以帮助你了解应用程序性能的详情，以便找到并优化慢的部分。。
25. 使用webpack bundle分析工具 - 了解应用程序的打包大小以及哪个模块导致包变大，是优化React应用程序性能的重要一步。webpack bundle分析工具可以帮助你分析应用程序的打包。
26. 避免在render()函数中进行重复计算 - 在render()函数中进行重复计算会降低React应用程序的性能。可以考虑将这些计算结果存储在组件的状态中，或使用memoization技术。
27. 使用React.memo缓存组件 - React.memo是React 16.6中引入的组件高阶函数，可以帮助缓存组件并减少不必要的渲染操作。
28. 避免使用非受控组件 - 非受控组件会使React无法控制组件的状态。如果使用非受控组件，则应该至少通过ref来控制它们的值，以防止React进行不必要的重新渲染。
29. 避免将组件内的函数作为属性传递 - 如果在组件之间传递函数属性，则每次传递函数时都会生成一个新的函数实例。可以将函数提取到组件外部以避免重复生成函数实例。
30. 避免不必要的重新渲染 - 在React中，当props或状态发生更改时，组件将重新渲染。可以通过shouldComponentUpdate或useMemo_hook来优化定义的组件部分，检测当前的渲染是否是必要的，这样就可以避免不必要的重新渲染，从而提高应用程序的性能。
31. 避免在渲染期间使用长时间阻塞的代码 - 如果组件中包含需要花费很长时间才能完成的代码，则这样的代码将阻塞应用程序的渲染和响应速度。可以将这样的代码移动到Web Worker或跨帧脚本中以提高性能。
32. 使用合适的React组件架构 - 合适的React组件架构可以让你的代码更加清晰且易于维护。可以将大型组件拆分为小型组件，并采用高阶组件或渲染属性来复用组件逻辑。
33. 选择合适的库和框架 - 除React之外，选择合适的库和框架也可以帮助提高React应用程序的性能。例如，可以使用Immutable.js来创建不可变的数据结构，从而减少组件重新渲染的频率。
34. 使用React DevTools来调试应用程序 - React DevTools是一个浏览器扩展程序，可以帮助你更直观地了解应用程序的渲染层次结构、性能瓶颈以及组件状态的变化。
35. 使用shouldComponentUpdate优化组件渲染 - shouldComponentUpdate方法可以帮助你控制组件的重新渲染操作。如果组件的props和状态没有更改，则可以返回false，以避免不必要的重新渲染。
36. 避免渲染太多的组件 - 如果应用程序中渲染了太多的组件，则可能会降低性能。可以使用React.lazy和React.Suspense延迟组件的渲染，或将组件分割为更小的子组件以减少组件的数量。
37. 避免使用不必要的高阶组件 - 高阶组件是一种将组件逻辑与组件分离的方法。但是，在使用高阶组件时要小心，否则可能会导致性能问题。建议只使用必要的高阶组件，以避免不必要的重新渲染操作。
